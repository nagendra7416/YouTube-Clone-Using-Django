{% extends 'channel/channel.html' %}
{% load static %}
{% load humanize %}

{% block channel %}
<div class="buttons">
    <button class="active">
        <a href="{% url 'channel' request.user.channeluser.id %}">
            HOME
        </a>
    </button>
    <button>
        <a href="{% url 'channel_videos' request.user.channeluser.id %}">
            Videos
        </a>
    </button>
    <button>
        <a href="{% url 'channel_playlists' request.user.channeluser.id %}">
            playlists
        </a>
    </button>
    <button>
        <a href="#">
            community
        </a>
    </button>
    <button>
        <a href="{% url 'channel_channels' request.user.channeluser.id %}">
            Channels
        </a>
    </button>
    <button>
        <a href="{% url 'channel_about' request.user.channeluser.id %}">
            about
        </a>
    </button>
</div>
    <div class="channel-inner">
        {% if featured %}
            <div class="featured">
                <a href="{% url 'watch' featured.id %}">
                    <div class="f-inner">
                        <div class="feature-img">
                            {% if featured.video %}
                                <video src="{{featured.video.url}}" autoplay loop muted controls>
                            {% endif %}
                        </div>
                        <div class="feature-detail">
                            <h4>{{featured.title}}</h4>
                            <a href="{% url 'channel' request.user.channeluser.id %}">{{featured.author.channeluser.channelname}}</a>
                            <span><span id="views">{{featured.watched}}</span> &bull; <span id="timeago">{{featured.published | date:"Y-m-d H:i:s"}}</span></span>  
                        </div>
                    </div>
                </a>
            </div>    
        {% endif %}
        <div class="posts">
            <p>Videos</p>
            <div class="post-inner">
                {% if user_videos.count > 0 and user_videos.count < 5 %}
                    {% for uservideo in user_videos %}
                        <div class="post">
                            <a href="{% url 'watch' uservideo.id %}">
                                <div class="post-img">
                                    <img src="{{uservideo.image.url}}">
                                </div>
                                <div class="post-detail">
                                    <h3>{{uservideo.title}}</h3>
                                    <a href="#">{{uservideo.author.channeluser.channelname}}</a>
                                    <span><span id="views">{{uservideo.watched}}</span> &bull; <span id="timeago">{{uservideo.published | date:"Y-m-d H:i:s"}}</span></span>
                                </div>
                            </a>
                        </div>    
                    {% endfor %}
                    <div class="post"></div>
                    <div class="post"></div>
                    <div class="post"></div>
                    <div class="post"></div>
                    <div class="post"></div>
                    <div class="post"></div>
                {% else %}
                    {% for uservideo in user_videos %}
                        <div class="post">
                            <a href="{% url 'watch' uservideo.id %}">
                                <div class="post-img">
                                    <img src="{{uservideo.image.url}}">
                                </div>
                                <div class="post-detail">
                                    <h3>{{uservideo.title}}</h3>
                                    <a href="#">{{uservideo.author.channeluser.channelname}}</a>
                                    <span><span id="views">{{uservideo.watched}}</span> &bull; <span id="timeago">{{uservideo.published | date:"Y-m-d H:i:s"}}</span></span>
                                </div>
                            </a>
                        </div>    
                    {% endfor %}
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}